<ul class="pagination">
	<li{{ if eq .Paginator.PageNumber 1 }} class="disabled"{{ end }}><a href="{{ with .Paginator.First }}{{ .URL }}{{ end }}" >««</a></li>
	<li{{ if eq .Paginator.HasPrev false }} class="disabled"{{ end }}><a href="{{ with .Paginator.Prev }}{{ .URL }}{{ end }}" >«</a></li>

	{{ $limit := 5 }}
	{{ .Scratch.Set "mid" (div $limit 2) }}
	{{ .Scratch.Set "start" 0 }}

	{{ if le $limit .Paginator.TotalPages }}
		{{ if gt .Paginator.PageNumber (.Scratch.Get "mid") }}
			{{ if lt (add .Paginator.PageNumber (.Scratch.Get "mid")) .Paginator.TotalPages }}
				{{ .Scratch.Set "end" (add .Paginator.PageNumber 1) }}
			{{ else}}
				{{ .Scratch.Set "end" (sub .Paginator.TotalPages 1) }}
			{{ end }}
			{{ .Scratch.Set "start" (sub (.Scratch.Get "end") (mul (.Scratch.Get "mid") 2)) }}
		{{ else }}
			{{ .Scratch.Set "end" (sub $limit 1) }}
		{{ end }}
	{{ else }}
		{{ .Scratch.Set "end" (sub .Paginator.TotalPages 1) }}
	{{ end }}

	{{ range seq (int (.Scratch.Get "start")) (int (.Scratch.Get "end")) }}
		{{ with index $.Paginator.Pagers ( . ) }}
			<li {{ if eq $.Paginator.PageNumber (.PageNumber) }}class="active"{{ end }}><a href="{{ .URL }}">{{ .PageNumber }}</a></li>
		{{ end }}
	{{ end }}

	<li {{ if eq .Paginator.HasNext false }} class="disabled"{{ end }}><a href="{{ with .Paginator.Next }}{{ .URL }}{{ end }}" >»</span></a></li>
	<li {{ if eq .Paginator.PageNumber .Paginator.TotalPages }} class="disabled"{{ end }} ><a href="{{ with .Paginator.Last }}{{ .URL }}{{ end }}" >»»</span></a></li>
</ul>

